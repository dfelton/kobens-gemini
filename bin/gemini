#!/usr/bin/env php
<?php

require dirname(__DIR__).'/vendor/autoload.php';

use Kobens\Core\Config;
use Kobens\Gemini\Command\Command\Market\{BookKeeper, Watcher};
use Kobens\Gemini\Command\Command\Order\{CancelAll, NewOrder};
use Symfony\Component\Console\Application;

try {
    new Config(dirname(__DIR__).DIRECTORY_SEPARATOR.'env'.DIRECTORY_SEPARATOR.'config.xml');
} catch (Exception $e) {
    exit('Config not initialized properly.');
}

$application = new Application();

$application->add(new BookKeeper());
$application->add(new NewOrder());
$application->add(new CancelAll());
$application->add(new Watcher());

$application->run();

